Installation
============

Conda
.....

Install the latest released version using `conda <https://anaconda.org/bioconda/chewbbaca>`_:

::

	conda create -c bioconda -c conda-forge -n chewie "chewbbaca=3.2.0"

If you're having issues installing chewBBACA through conda, we recommend that you install
`mamba <https://mamba.readthedocs.io/en/latest/index.html>`_ and run the following command:

::

	mamba create -c bioconda -c conda-forge -n chewie "chewbbaca=3.2.0"

.. important::
	We strongly recommend that users install and use BLAST 2.9.0+. Please open an
	`issue <https://github.com/B-UMMI/chewBBACA/issues>`_ if you find any problems with any
	of the dependencies.

Pip
...

Install using `pip <https://pypi.org/project/chewBBACA/>`_:

::

	pip3 install chewbbaca


Python dependencies
...................

* numpy >=1.23.4
* scipy >=1.9.3
* biopython >=1.78
* plotly >=5.8.0
* SPARQLWrapper >=2.0.0
* requests >=2.27.1
* pandas >=1.5.1,<2.1
* pyrodigal >=3.0.0 (for chewBBACA >=3.3.0)

.. note::
	These dependencies are defined in the `requirements <https://github.com/B-UMMI/chewBBACA/blob/master/CHEWBBACA/requirements.txt>`_
	file and should be automatically installed when using conda or pip.

Other dependencies
..................

* `BLAST >=2.9.0 <https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/>`_ (we recommend using BLAST 2.9.0+)
* `Prodigal >=2.6.3 <https://github.com/hyattpd/prodigal/releases/>`_ (for chewBBACA <3.3.0)
* `MAFFT >=7.505 <https://mafft.cbrc.jp/alignment/software/>`_ (for schema evaluation only)
* `FastTree >=2.1.11 <http://www.microbesonline.org/fasttree/>`_ (for allele calling evaluation only)

.. important::
	Installation through conda should take care of all dependencies. If you install through
	pip you need to ensure that you have BLAST, MAFFT, FastTree and Prodigal (for chewBBACA <3.3.0)
	installed and added to the PATH.

The reports generated by the SchemaEvaluator and AlleleCallEvaluator modules use the `React <https://react.dev/>`_ library and the following JavaScript packages:

  - `Material UI <https://www.npmjs.com/package/@mui/material>`_ for most of the components.
  - `MUI-Datatables <https://www.npmjs.com/package/mui-datatables>`_ for datatables components.
  - `MSA Viewer <https://www.npmjs.com/package/@jlab-contrib/msa>`_ for the Multiple Sequence Alignmnet.
  - `Phylocanvas.gl <https://www.npmjs.com/package/@phylocanvas/phylocanvas.gl>`_ for the NJ Tree.
  - `react-plotly.js <https://www.npmjs.com/package/react-plotly.js>`_ for the charts.
  - `react-scroll <https://www.npmjs.com/package/react-scroll>`_ for animating vertical scrolling in the NJ Tree component.
  - `Monaco Editor for React <https://www.npmjs.com/package/@monaco-editor/react>`_ for the read-only code editor that displays the DNA and Protein sequences.
  - `react-markdown <https://www.npmjs.com/package/react-markdown>`_ and `remark-gfm <https://www.npmjs.com/package/remark-gfm>`_ to render markdown.

.. note::
	You do not need to install these JS packages. chewBBACA includes JS bundles that are added to the report directory and are used by the browser.
